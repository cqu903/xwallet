# EVAL: login-page-remember-me-and-retry

## ğŸ“ ä»»åŠ¡æè¿°
æ”¹è¿› front-web ç™»å½•é¡µé¢ï¼Œæ·»åŠ ä»¥ä¸‹åŠŸèƒ½ï¼š
1. "è®°ä½æˆ‘"åŠŸèƒ½ - 7å¤©å†…è‡ªåŠ¨ç™»å½•
2. ç™»å½•å¤±è´¥é‡è¯•é€»è¾‘ - æœ€å¤š3æ¬¡ï¼Œæ˜¾ç¤ºå‰©ä½™æ¬¡æ•°
3. æ”¹è¿›çš„é”™è¯¯æç¤ºå’Œç”¨æˆ·ä½“éªŒ

---

## âœ… Capability Evals (åŠŸèƒ½èƒ½åŠ›æµ‹è¯•)

### 1. è®°ä½æˆ‘åŠŸèƒ½
- [ ] ç”¨æˆ·å‹¾é€‰"è®°ä½æˆ‘"åï¼Œ7å¤©å†…æ— éœ€é‡æ–°ç™»å½•
- [ ] Token å­˜å‚¨åœ¨ HttpOnly Cookie ä¸­
- [ ] æœªå‹¾é€‰æ—¶ï¼Œå…³é—­æµè§ˆå™¨åéœ€è¦é‡æ–°ç™»å½•
- [ ] å¯ä»¥æ‰‹åŠ¨é€€å‡ºç™»å½•æ¸…é™¤"è®°ä½æˆ‘"çŠ¶æ€

### 2. ç™»å½•å¤±è´¥é‡è¯•é€»è¾‘
- [ ] é¦–æ¬¡ç™»å½•å¤±è´¥æ˜¾ç¤ºé”™è¯¯ï¼š"å·¥å·æˆ–å¯†ç é”™è¯¯ï¼Œå‰©ä½™å°è¯•æ¬¡æ•°ï¼š2"
- [ ] ç¬¬äºŒæ¬¡å¤±è´¥æ˜¾ç¤ºï¼š"å‰©ä½™å°è¯•æ¬¡æ•°ï¼š1"
- [ ] ç¬¬3æ¬¡å¤±è´¥åé”å®šè´¦æˆ·15åˆ†é’Ÿ
- [ ] æ˜¾ç¤ºé”å®šå€’è®¡æ—¶
- [ ] é”å®šæœŸé—´æ˜¾ç¤ºæç¤ºï¼š"è´¦æˆ·å·²é”å®šï¼Œè¯·åœ¨ X ç§’åé‡è¯•"

### 3. ç”¨æˆ·ä½“éªŒæ”¹è¿›
- [ ] é”™è¯¯æ¶ˆæ¯ä½¿ç”¨ Toast é€šçŸ¥æ˜¾ç¤º
- [ ] è¡¨å•éªŒè¯å®æ—¶åé¦ˆï¼ˆå·¥å·æ ¼å¼ã€å¯†ç é•¿åº¦ï¼‰
- [ ] ç™»å½•æŒ‰é’®åœ¨è¯·æ±‚æœŸé—´æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- [ ] æ”¯æŒå›è½¦é”®æäº¤è¡¨å•
- [ ] é”™è¯¯æ—¶è‡ªåŠ¨èšç„¦åˆ°è¾“å…¥æ¡†

### 4. å®‰å…¨æ€§
- [ ] "è®°ä½æˆ‘" Token ä½¿ç”¨åŠ å¯†ç­¾å
- [ ] é‡è¯•è®¡æ•°å­˜å‚¨åœ¨åç«¯ï¼Œå‰ç«¯æ— æ³•ç¯¡æ”¹
- [ ] é”å®šæ—¶é—´ä¹Ÿç”±åç«¯æ§åˆ¶
- [ ] å¯†ç è¾“å…¥æ¡†æ”¯æŒæ˜¾ç¤º/éšè—åˆ‡æ¢

---

## ğŸ›¡ï¸ Regression Evals (å›å½’æµ‹è¯•)

### ç°æœ‰åŠŸèƒ½ä¿æŠ¤
- [ ] æ­£å¸¸ç™»å½•æµç¨‹ä¾ç„¶æœ‰æ•ˆï¼ˆå·¥å· + å¯†ç ï¼‰
- [ ] JWT Token è®¤è¯æœºåˆ¶ä¸å˜
- [ ] ç™»å½•æˆåŠŸåè·³è½¬åˆ° dashboard æ­£å¸¸å·¥ä½œ
- [ ] é€€å‡ºç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] è·¯ç”±ä¿æŠ¤æœºåˆ¶æœªå—å½±å“
- [ ] ç°æœ‰æ ·å¼å’Œå¸ƒå±€ä¿æŒä¸€è‡´

---

## ğŸ“Š Success Metrics (æˆåŠŸæŒ‡æ ‡)

### åŠŸèƒ½æŒ‡æ ‡
- **Capability Evals**: è‡³å°‘ 90% é€šè¿‡ (pass@3 > 90%)
- **Regression Evals**: 100% é€šè¿‡ (pass^3 = 100%)

### æ€§èƒ½æŒ‡æ ‡
- ç™»å½•è¯·æ±‚å“åº”æ—¶é—´ < 500ms (p95)
- "è®°ä½æˆ‘" Token éªŒè¯ < 100ms

### ä»£ç è´¨é‡
- TypeScript ç¼–è¯‘æ— é”™è¯¯
- ESLint æ— è­¦å‘Š
- æµ‹è¯•è¦†ç›–ç‡ >= 80%

### å®‰å…¨æ€§
- é€šè¿‡ `/security-review` æ£€æŸ¥
- æ—  XSS æ¼æ´
- æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²åˆ°å®¢æˆ·ç«¯

---

## ğŸ§ª Grader Types (è¯„ä¼°æ–¹å¼)

### 1. Code-Based Grader (ä»£ç æ£€æŸ¥)
```bash
# TypeScript ç¼–è¯‘æ£€æŸ¥
pnpm tsc --noEmit

# ESLint æ£€æŸ¥
pnpm lint

# æ£€æŸ¥æ˜¯å¦åŒ…å« RememberMe ç»„ä»¶
grep -q "RememberMe" front-web/src/app/[locale]/login/page.tsx && echo "PASS" || echo "FAIL"

# æ£€æŸ¥æ˜¯å¦åŒ…å«é‡è¯•é€»è¾‘
grep -q "remainingAttempts" front-web/src/app/[locale]/login/page.tsx && echo "PASS" || echo "FAIL"
```

### 2. Model-Based Grader (AI è¯„ä¼°)
```markdown
[MODEL GRADER PROMPT]
è¯„ä¼°ä»¥ä¸‹ä»£ç å®ç°ï¼š
1. "è®°ä½æˆ‘"åŠŸèƒ½æ˜¯å¦æ­£ç¡®å®ç°ï¼Ÿ
2. é‡è¯•é€»è¾‘æ˜¯å¦å®‰å…¨å¯é ï¼Ÿ
3. ç”¨æˆ·ä½“éªŒæ˜¯å¦æµç•…ï¼Ÿ
4. é”™è¯¯å¤„ç†æ˜¯å¦å®Œå–„ï¼Ÿ
5. ä»£ç ç»“æ„æ˜¯å¦æ¸…æ™°ï¼Ÿ

Score: 1-5 (1=poor, 5=excellent)
Reasoning: [è¯¦ç»†è¯´æ˜]
```

### 3. Human Grader (äººå·¥å®¡æŸ¥)
```markdown
[HUMAN REVIEW REQUIRED]
Change: ç™»å½•é¡µé¢å¢å¼ºåŠŸèƒ½
Reason: æ¶‰åŠç”¨æˆ·è®¤è¯å’Œå®‰å…¨æ€§
Risk Level: MEDIUM

éœ€è¦äººå·¥ç¡®è®¤ï¼š
- "è®°ä½æˆ‘" Token çš„å®‰å…¨æ€§
- é‡è¯•é”å®šæ—¶é—´æ˜¯å¦åˆç†
- é”™è¯¯æç¤ºæ–‡æ¡ˆæ˜¯å¦å‹å¥½
```

---

## ğŸ“ˆ Eval Timeline

- [ ] **Phase 1: Define** (ç°åœ¨) - å®šä¹‰è¯„ä¼°æ ‡å‡†
- [ ] **Phase 2: Implement** (ä¸‹ä¸€æ­¥) - å®ç°åŠŸèƒ½
- [ ] **Phase 3: Evaluate** (ä¹‹å) - è¿è¡Œè¯„ä¼°
- [ ] **Phase 4: Report** (æœ€å) - ç”ŸæˆæŠ¥å‘Š

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `front-web/src/app/[locale]/login/page.tsx` - ç™»å½•é¡µé¢
- `front-web/src/lib/api/auth.ts` - è®¤è¯ API
- `backend/src/main/java/com/zerofinance/xwallet/controller/AuthController.java` - åç«¯è®¤è¯æ§åˆ¶å™¨
- `backend/src/main/java/com/zerofinance/xwallet/service/AuthService.java` - è®¤è¯æœåŠ¡

---

**åˆ›å»ºæ—¶é—´**: 2026-01-31
**çŠ¶æ€**: ğŸ“ DEFINED
**ä¸‹ä¸€æ­¥**: æ£€æŸ¥ç°æœ‰ä»£ç å¹¶å®ç°åŠŸèƒ½
